<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <title>JSONR</title>
        <script src="binary.js"></script>
    </head>
    <body style="padding: 0; margin: 0; background-color: rgb(240, 237, 235)">
        <script>
let testUrl = "https://raw.githubusercontent.com/miloyip/nativejson-benchmark/master/data/twitter.json";
let testJson = fetch(testUrl).then(r => r.json()).then(test => {
    //let test = [{width: 10, height: 20}, {width: 20, height: 10}, {width: 15, height: 15}];
    console.log(test);
    console.log([...new Uint8Array(Encoder.encode(test).buffer).slice(8, 2008)]);
    console.log("JSON: " + new TextEncoder().encode(JSON.stringify(test)).byteLength + " bytes");
    console.log("Binary: " + (Encoder.encode(test).byteLength - 8) + " bytes (+ 8 byte header)");
    console.log(Decoder.decode(Encoder.encode(test)));
});
        </script>
    </body>
</html>
